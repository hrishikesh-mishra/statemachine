apply plugin: 'java'
apply plugin: 'idea'
description = 'State Machine'

sourceCompatibility = 1.8
targetCompatibility = 1.8


version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.12',
            'com.google.guava:guava:18.0',
            'org.projectlombok:lombok:1.16.4'


    testCompile 'org.testng:testng:6.1.1'
}

test {
    testLogging {
        exceptionFormat = 'full'
    }

    useTestNG()
    outputs.upToDateWhen { false }
    afterTest { desc, result ->
        println "[TEST] ${desc.className} - ${desc.name} : ${result}"
    }
}

if (hasProperty("xlint")) {
    tasks.withType(Compile) {
        options.compilerArgs << "-Xlint:unchecked"
    }
}


tasks.withType(Test) {
    maxParallelForks = Runtime.runtime.availableProcessors() / 2
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.5'
}



